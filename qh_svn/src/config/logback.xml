<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  	<!-- 日志存储策略配置 -->
  	<appender name="logStorePolicy" class="ch.qos.logback.core.rolling.RollingFileAppender">  
    	<file>lss_logs/lss-log.txt</file>  
    	<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">  
      		<!-- yyyy-MM-dd 为按天存取分割日志 -->  
	      	<fileNamePattern>lss_logs/lls-%d{yyyy-MM-dd}.%i.log</fileNamePattern>  
	      	<maxHistory>5</maxHistory>
      		<!-- 按天存取分割日志 如果大于100MB 则再次把一天的日志分割成多个日志文件-->  
	      	<timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
	        	<maxFileSize>100MB</maxFileSize>
	      	</timeBasedFileNamingAndTriggeringPolicy>
    	</rollingPolicy>
    	<encoder>
      		<pattern>%date %level [%thread] %logger{36} [%file : %line] %msg%n</pattern>
    	</encoder>
  	</appender>
  	<!-- 标准输出日志格式 -->
	<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    	<encoder>
      		<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
    	</encoder>
  	</appender>
  	<!-- 数据库日志策略配置 日志存储进数据库中-->
  	<!-- 
  	<appender name="dbLogPolicy" class="ch.qos.logback.classic.db.DBAppender">
    	<connectionSource class="ch.qos.logback.core.db.DriverManagerConnectionSource">
       		<dataSource class="com.mchange.v2.c3p0.ComboPooledDataSource">
	      		<driverClass>com.mysql.jdbc.Driver</driverClass>
	      		<url>jdbc:mysql://127.0.0.1:3306/databaseName</url>
	      		<user>root</user>
	      		<password>root</password>
      		</dataSource>
    	</connectionSource>
  	</appender>
	-->
	<!-- sql日志一般输出
	<logger name="java.sql.Connection" level="DEBUG"><appender-ref ref="STDOUT" /></logger>
    <logger name="java.sql.Statement" level="DEBUG"><appender-ref ref="STDOUT" /></logger>
    <logger name="java.sql.PreparedStatement" level="DEBUG"><appender-ref ref="STDOUT" /></logger>
    <logger name="java.sql.ResultSet" level="DEBUG"><appender-ref ref="STDOUT" /></logger>
    -->
  	<!-- SQL日志输出 设置为只打印mybatis的Sql-->
	<logger name="mybatisSql" level="DEBUG"><appender-ref ref="STDOUT" /></logger>
  	<root level="DEBUG"><appender-ref ref="STDOUT" /></root>
</configuration>